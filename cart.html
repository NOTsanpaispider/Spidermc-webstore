<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>üõí Checkout | SpiderMC Webstore</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: "Poppins", sans-serif; }
    body {
      background: #00111f;
      color: white;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    header {
      background: linear-gradient(90deg, #003366, #005599);
      padding: 20px;
      text-align: center;
      font-size: 1.5rem;
      font-weight: 700;
      color: #b3e0ff;
      text-shadow: 0 0 10px #008cff;
      border-bottom: 2px solid #0078ff;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    header h1 {
      flex: 1;
      text-align: center;
    }

    .home-btn {
      background: linear-gradient(90deg, #00aaff, #00ccff);
      border: none;
      padding: 10px 18px;
      border-radius: 10px;
      color: white;
      font-weight: 600;
      cursor: pointer;
      transition: 0.3s;
      margin-right: 15px;
    }

    .home-btn:hover {
      background: linear-gradient(90deg, #00ccff, #00ffff);
      transform: scale(1.05);
    }

    main {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding: 40px;
    }

    .checkout-box {
      background: #002a4d;
      border: 2px solid #004c99;
      border-radius: 20px;
      padding: 30px;
      width: 100%;
      max-width: 800px;
      box-shadow: 0 0 25px rgba(0, 200, 255, 0.3);
    }

    .checkout-box h2 {
      color: #00c6ff;
      text-align: center;
      margin-bottom: 25px;
      text-shadow: 0 0 10px #00aaff;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 25px;
    }

    th, td {
      text-align: left;
      padding: 10px;
    }

    th {
      background: #003366;
      color: #66ccff;
      border-bottom: 2px solid #004c99;
    }

    td {
      border-bottom: 1px solid #003366;
      color: #b3e0ff;
    }

    .total {
      text-align: right;
      font-weight: 700;
      color: #00bfff;
      font-size: 1.2rem;
    }

    .coupon-section {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: 20px;
      background: #001d33;
      border: 1px solid #004c99;
      border-radius: 10px;
      padding: 10px 15px;
    }

    .coupon-section input {
      background: #002244;
      border: none;
      border-radius: 8px;
      padding: 10px;
      color: white;
      width: 70%;
      outline: none;
    }

    .coupon-section button {
      background: #0078ff;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      color: white;
      cursor: pointer;
      transition: 0.3s;
      font-weight: 600;
    }

    .coupon-section button:hover {
      background: #00bfff;
    }

    .actions {
      margin-top: 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .actions button {
      background: linear-gradient(90deg, #0078ff, #00bfff);
      border: none;
      padding: 12px 25px;
      border-radius: 10px;
      color: white;
      font-weight: 700;
      cursor: pointer;
      transition: 0.3s;
    }

    .actions button:hover {
      background: linear-gradient(90deg, #00bfff, #00ffff);
      transform: scale(1.05);
    }

    .login-box {
      background: #001d33;
      border: 1px solid #004c99;
      border-radius: 12px;
      padding: 20px;
      margin-top: 40px;
    }

    .login-box h3 {
      color: #00bfff;
      margin-bottom: 10px;
    }

    .login-box input {
      background: #002244;
      border: none;
      border-radius: 8px;
      padding: 10px;
      color: white;
      width: 100%;
      margin-bottom: 10px;
      outline: none;
    }

    .login-box button {
      width: 100%;
      background: #0078ff;
      border: none;
      padding: 10px;
      border-radius: 8px;
      color: white;
      font-weight: 600;
      cursor: pointer;
      transition: 0.3s;
    }

    .login-box button:hover {
      background: #00bfff;
    }

    .empty {
      text-align: center;
      color: #66ccff;
      margin-top: 40px;
      font-size: 1.2rem;
    }
  </style>
</head>
<body>
  <header>
    <button class="home-btn" onclick="goHome()">üè† Home</button>
    <h1>üï∏Ô∏è SpiderMC Checkout</h1>
  </header>

  <main>
    <div class="checkout-box">
      <h2>Your Cart</h2>
      <table id="cart-table">
        <thead>
          <tr>
            <th>Item</th>
            <th>Price (‚Çπ)</th>
          </tr>
        </thead>
        <tbody id="cart-body"></tbody>
      </table>
      <div class="total" id="total">Total: ‚Çπ0</div>

      <div class="coupon-section">
        <input type="text" id="coupon-code" placeholder="Enter coupon code (e.g. SPIDER10)" />
        <button onclick="applyCoupon()">Apply</button>
      </div>

      <div class="actions">
        <button onclick="clearCart()">üóëÔ∏è Clear Cart</button>
       <button
  onclick="window.open('https://discord.com/channels/1363080234529984543/1430922751215927356', '_blank')"
  style="
    background: linear-gradient(90deg, #5865F2, #7289DA);
    color: white;
    border: none;
    padding: 12px 25px;
    border-radius: 10px;
    font-weight: 600;
    cursor: pointer;
    font-size: 16px;
  ">
  üí∏ Buy Now
</button>

      </div>

      <div class="login-box">
        <h3>Login / Continue as Guest</h3>
        <input type="text" id="username" placeholder="Minecraft Username" />
        <input type="email" id="email" placeholder="Email Address" />
        <button onclick="login()">Continue</button>
      </div>

      <div class="empty" id="empty-msg" style="display:none;">üõí Your cart is empty.</div>
    </div>
  </main>

  <script>
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    let total = 0;
    let discount = 0;

    const cartBody = document.getElementById('cart-body');
    const totalDisplay = document.getElementById('total');
    const emptyMsg = document.getElementById('empty-msg');

    function renderCart() {
      cartBody.innerHTML = '';
      total = 0;

      if (cart.length === 0) {
        emptyMsg.style.display = 'block';
        totalDisplay.style.display = 'none';
        return;
      }

      emptyMsg.style.display = 'none';
      totalDisplay.style.display = 'block';

      cart.forEach((item, index) => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${item.name}</td>
          <td>‚Çπ${item.price.toFixed(2)}</td>
        `;
        cartBody.appendChild(row);
        total += item.price;
      });

      updateTotal();
    }

    function updateTotal() {
      const discountedTotal = total - (total * discount);
      totalDisplay.textContent = `Total: ‚Çπ${discountedTotal.toFixed(2)} ${discount ? '(discount applied)' : ''}`;
    }

    function applyCoupon() {
      const code = document.getElementById('coupon-code').value.trim().toUpperCase();
      if (code === 'SPIDER10') {
        discount = 0.10;
        alert('Coupon applied! You got 10% off.');
      } else {
        discount = 0;
        alert('Invalid coupon code.');
      }
      updateTotal();
    }

    function clearCart() {
      if (confirm('Clear all items from your cart?')) {
        localStorage.removeItem('cart');
        cart = [];
        renderCart();
      }
    }

    function buyNow() {
      if (cart.length === 0) {
        alert('Your cart is empty!');
        return;
      }
      alert('‚úÖ Thank you for your purchase! (Connect payment API here)');
      localStorage.removeItem('cart');
      cart = [];
      renderCart();
    }

    function login() {
      const username = document.getElementById('username').value.trim();
      const email = document.getElementById('email').value.trim();
      if (!username || !email) {
        alert('Please fill in your username and email.');
        return;
      }
      alert(`Welcome, ${username}! You can now proceed to checkout.`);
    }

    function goHome() {
      window.location.href = "store.html";
    }

    renderCart();
  </script>
</body>
</html>
